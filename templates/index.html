{% extends "base.html" %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="card upload-card text-center">

        <!-- Title -->
        <h3 class="section-title mb-2">Analyze Your Plant</h3>
        <p class="subtitle mb-4">
            Upload a clear leaf image and let AI diagnose the disease
        </p>

        <!-- Upload Form -->
        <form action="/predict" method="post" enctype="multipart/form-data">

            <!-- File Input -->
            <input
                type="file"
                name="file"
                class="form-control mb-3"
                accept="image/*"
                onchange="previewImage(event)"
                required
            >

            <!-- Image Preview -->
            <img
                id="preview"
                class="preview-img"
                alt="Leaf Preview"
            >

            <!-- Submit Button -->
            <button type="submit" class="btn btn-success mt-4 px-5 py-2">
                Analyze Plant
            </button>

        </form>

        <!-- Helper Text -->
        <small class="text-muted d-block mt-3">
            Supported formats: JPG, PNG â€¢ Best results with clear leaf images
        </small>

    </div>
</div>

<script>
function previewImage(event) {
    const img = document.getElementById("preview");
    img.src = URL.createObjectURL(event.target.files[0]);
    img.style.display = "block";
}
</script>
{% endblock %}
